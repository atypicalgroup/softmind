<div class="reset-password container py-5 d-flex flex-column align-items-center">

  <h2 class="mb-3 text-center">Definir Nova Senha</h2>
  <p class="text-muted mb-4 text-center">
    Crie uma nova senha segura para sua conta Softmind.
  </p>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="reset-form w-100" style="max-width: 380px;">
    <div class="mb-3">
      <label for="newPassword" class="form-label">Nova senha</label>
      <input
        type="password"
        id="newPassword"
        formControlName="newPassword"
        class="form-control"
        placeholder="Digite a nova senha"
      />
      <div *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.invalid" class="text-danger small mt-1">
        A senha deve ter pelo menos 6 caracteres.
      </div>
    </div>

    <div class="mb-3">
      <label for="confirmPassword" class="form-label">Confirmar senha</label>
      <input
        type="password"
        id="confirmPassword"
        formControlName="confirmPassword"
        class="form-control"
        placeholder="Repita a nova senha"
      />
      <div *ngIf="form.get('confirmPassword')?.touched && !passwordsMatch" class="text-danger small mt-1">
        As senhas nÃ£o coincidem.
      </div>
    </div>

    <button type="submit" class="btn btn-primary w-100" [disabled]="loading">
      <span *ngIf="!loading">Alterar Senha</span>
      <span *ngIf="loading"><i class="bi bi-arrow-repeat spin me-2"></i> Alterando...</span>
    </button>
  </form>

  <div *ngIf="message" class="alert alert-success text-center mt-3">{{ message }}</div>
  <div *ngIf="error" class="alert alert-danger text-center mt-3">{{ error }}</div>

  <div class="text-center mt-4">
    <a routerLink="/login" class="small">Voltar ao login</a>
  </div>
</div>
