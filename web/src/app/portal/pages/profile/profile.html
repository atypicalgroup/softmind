<div class="profile container py-4">

  <!-- Cabeçalho -->
  <div class="mb-4">
    <h2 class="text-muted">Meu Perfil</h2>
    <p class="text-muted">Gerencie suas informações pessoais e credenciais de acesso.</p>
  </div>

  <!-- Mensagens -->
  <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <!-- Informações pessoais -->
  <div class="card shadow-sm p-4 mb-4">
    <h5 class="mb-3">Informações Pessoais</h5>

    <form (ngSubmit)="onSaveProfile()" #profileForm="ngForm">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="name" class="form-label">Nome</label>
          <input id="name" name="name" [(ngModel)]="user.name" type="text" class="form-control" required>
        </div>

        <div class="col-md-6">
          <label for="email" class="form-label">E-mail</label>
          <input id="email" name="email" [(ngModel)]="user.email" type="email" class="form-control" required>
        </div>

        <div class="col-md-6">
          <label for="role" class="form-label">Cargo</label>
          <input id="role" name="role" [(ngModel)]="user.role" type="text" class="form-control">
        </div>

        <div class="col-md-6">
          <label for="phone" class="form-label">Telefone</label>
          <input id="phone" name="phone" [(ngModel)]="user.phone" type="tel" class="form-control">
        </div>
      </div>

      <div class="mt-3">
        <button type="submit" class="btn btn-primary" [disabled]="profileForm.invalid">
          <i class="bi bi-save me-2"></i> Salvar alterações
        </button>
      </div>
    </form>
  </div>

  <!-- Segurança -->
  <div class="card shadow-sm p-4">
    <h5 class="mb-3">Segurança</h5>
    <form (ngSubmit)="onChangePassword()" #passwordForm="ngForm">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="password" class="form-label">Nova Senha</label>
          <input id="password" name="password" [(ngModel)]="password" type="password" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label for="confirmPassword" class="form-label">Confirmar Senha</label>
          <input id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" type="password" class="form-control" required>
        </div>
      </div>

      <div class="mt-3">
        <button type="submit" class="btn btn-warning" [disabled]="passwordForm.invalid">
          <i class="bi bi-shield-lock me-2"></i> Alterar senha
        </button>
      </div>
    </form>
  </div>
</div>
