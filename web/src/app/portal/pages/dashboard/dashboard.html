<div class="dashboard container py-4">

  <div class="dashboard-header mb-4">
    <h2>Seja Bem-Estar, {{ nameEmployee }}</h2>
    <p class="text-muted">Monitoramento anônimo da saúde e comportamento organizacional.</p>
  </div>

  <!-- Erro -->
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Carregando -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-success" role="status"></div>
    <p class="mt-2 text-muted">Carregando relatório...</p>
  </div>

  <!-- Conteúdo -->
  <ng-container *ngIf="!loading && !error">
    <div class="kpi-cards row g-3 mb-4">
      <app-card
        title="Participação Total"
        description="Colaboradores ativos"
        [value]="participation"
        variable="↑"
        color="green"
      ></app-card>

      <app-card
        title="Engajamento"
        description="Nível médio semanal"
        [value]="engagement + '%'"
        variable="↑"
        color="blue"
      ></app-card>

      <app-card
        title="Departamentos Engajados"
        description="Setores com participação"
        [value]="engagedDepartments"
        variable="↑"
        color="green"
      ></app-card>

      <app-card
        title="Alertas"
        description="Indicadores críticos"
        [value]="criticalAlerts"
        variable="↓"
        color="red"
      ></app-card>
    </div>

    <!-- Gráfico placeholder -->
    <div class="card shadow-sm p-4 mb-4">
      <h5>Evolução do Índice de Bem-Estar</h5>
      <div style="height: 280px; background: #f1f3f5;"
           class="d-flex justify-content-center align-items-center">
        <span class="text-muted">[ Gráfico em desenvolvimento ]</span>
      </div>
    </div>

    <!-- Sentimentos -->
    <div class="card shadow-sm p-4 mb-4">
      <h5>Sentimentos Relatados</h5>
      <ul class="list-group">
        <li *ngFor="let mood of moods" class="list-group-item d-flex justify-content-between align-items-center">
          {{ mood.name }}
          <span class="badge bg-info text-dark">{{ mood.value }}%</span>
        </li>
      </ul>
    </div>

    <!-- Engajamento por Setor -->
    <div class="card shadow-sm p-4">
      <h5>Participação por Setor</h5>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Setor</th>
            <th>Participação</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of sectors">
            <td>{{ s.sector }}</td>
            <td>{{ s.participation }}%</td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-container>
</div>
