<div class="card shadow p-4">
  <h2 class="mb-4">Cadastrar Funcionário</h2>

  <!-- Mensagens de feedback -->
  <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">

    <!-- Nome -->
    <div class="mb-3">
      <label for="name" class="form-label">Nome Completo</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-control"
        placeholder="Maria da Silva"
        [class.is-invalid]="f['name'].touched && f['name'].invalid"
      >
      <div *ngIf="f['name'].touched && f['name'].invalid" class="invalid-feedback">
        O nome é obrigatório.
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">E-mail</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        class="form-control"
        placeholder="maria.silva@empresa.com.br"
        [class.is-invalid]="f['email'].touched && f['email'].invalid"
      >
      <div *ngIf="f['email'].touched && f['email'].invalid" class="invalid-feedback">
        Insira um e-mail válido.
      </div>
    </div>

    <!-- Senha -->
    <div class="mb-3">
      <label for="password" class="form-label">Senha</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        class="form-control"
        placeholder="User@123"
        [class.is-invalid]="f['password'].touched && f['password'].invalid"
      >
      <div *ngIf="f['password'].touched && f['password'].invalid" class="invalid-feedback">
        A senha deve ter no mínimo 6 caracteres.
      </div>
    </div>

    <!-- Cargo -->
    <div class="mb-3">
      <label for="role" class="form-label">Cargo</label>
      <input
        type="text"
        id="role"
        formControlName="role"
        class="form-control"
        placeholder="Analista de RH"
      >
    </div>

    <!-- Permissão -->
    <div class="mb-3">
      <label for="permission" class="form-label">Permissão</label>
      <select id="permission" formControlName="permission" class="form-select">
        <option value="ADMIN">Administrador</option>
        <option value="EMPLOYEE">Colaborador</option>
      </select>
    </div>

    <!-- Setor -->
    <div class="mb-3">
      <label for="sector" class="form-label">Setor</label>
      <input
        type="text"
        id="sector"
        formControlName="sector"
        class="form-control"
        placeholder="Recursos Humanos"
      >
    </div>

    <!-- Botão -->
    <button
      type="submit"
      class="btn btn-primary w-100"
      [disabled]="loading || employeeForm.invalid"
    >
      <span *ngIf="!loading">Salvar Funcionário</span>
      <span *ngIf="loading">
        <div class="spinner-border spinner-border-sm text-light me-2"></div>
        Salvando...
      </span>
    </button>
  </form>
</div>
